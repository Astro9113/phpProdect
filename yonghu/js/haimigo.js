var Haimigo=function(){function e(){s();i();u();o();r();n();t()}function t(){$(".ui-tooltip").tooltip({container:"body"})}function n(){var e=$(".theme-slider");if(e.length){var t=e.find(".media-gallery");t.cycle({autoHeight:0,fx:"sparksHorz",slides:"> li",speed:500,timeout:0,centerHorz:true,updateView:1,next:"#theme-slider-next",prev:"#theme-slider-prev"});t.on("cycle-update-view",function(e,t,n,r){var i=$(this),s=$(r);i.animate({height:s.height()},300);$(window).resize(function(){i.stop().animate({height:s.height()},500)})})}}function r(){var e=$(".widget-testimonial");if(e.length){$testimonials=e.find(".widget-testimonial-list");$testimonials.cycle({slides:"> li",pager:e.find(".widget-testimonial-pager"),timeout:0,autoHeight:0,centerHorz:true});$testimonials.on("cycle-update-view",function(e,t,n,r){var i=$(this);i.animate({height:$(r).height()},500);$(window).resize(function(){i.stop().animate({height:$(r).height()},500)})})}}function i(){$(".accordion").each(function(){$(this).find(".panel-collapse.in").parent().addClass("open");var e=$(this).find(".accordion-toggle");e.prepend('<i class="fa accordion-caret"></i>');e.on("click",function(e){$(e.target).parents(".panel").toggleClass("is-open");$(this).parents(".panel").siblings().removeClass("is-open")})});var e=location.hash;if(e){$("a[href="+e+"]").trigger("click")}}function s(){var e=$("<a>",{id:"back-to-top",href:"#top"});var t=$("<i>",{"class":"fa fa-chevron-up"});e.appendTo("body");t.appendTo(e);e.hide();$(window).scroll(function(){if($(this).scrollTop()>150){e.fadeIn()}else{e.fadeOut()}});e.click(function(e){e.preventDefault();$("body, html").animate({scrollTop:0},600)})}function o(){$(".parsley-form").each(function(){$(this).parsley({trigger:"change",errors:{container:function(e,t){if(e.parents("form").is(".form-horizontal")){return e.parents("*[class^='col-']")}return e.parents(".form-group")}}})})}function u(){$(".form-handler").submit(function(e){e.preventDefault();var t=$(this),n=t.find(".btn[type=submit]"),r;if(!t.parsley("isValid")){return false}n.button("loading");$.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),dataType:"json",success:function(e){if(e.success){r=$("<div>",{html:e.msg,"class":"fh-alert alert alert-success"});t.slideUp("slow",function(){t.before(r);t.remove()})}else{n.button("reset");$(".fh-alert").remove();r=$("<div>",{html:e.msg,"class":"fh-alert alert alert-danger"});r.prependTo(t)}},error:function(e){alert("Something went wrong. Please try sending your message again in a few hours.");n.button("reset")},beforeSend:function(){$(".fh-alert").remove()}})})}return{init:e};}();$(function(){Haimigo.init()})
